<k-page>
  <k-navbar
    [title]="'Konsta UI'"
    [large]="true"
    [transparent]="true"
    [centerTitle]="true"
  ></k-navbar>

  <k-block-title>Theme</k-block-title>
  <k-list [strong]="true" [inset]="true">
    <k-list-item [label]="true" [title]="'iOS Theme'" [media]="iosRadio" (click)="setTheme('ios')"></k-list-item>
    <k-list-item [label]="true" [title]="'Material Theme'" [media]="materialRadio" (click)="setTheme('material')"></k-list-item>
  </k-list>

  <ng-template #iosRadio>
    <k-radio
      component="div"
      [checked]="theme() === 'ios'"
    ></k-radio>
  </ng-template>

  <ng-template #materialRadio>
    <k-radio
      component="div"
      [checked]="theme() === 'material'"
    ></k-radio>
  </ng-template>

  <k-list [strong]="true" [inset]="true">
    <k-list-item [label]="true" [title]="'Dark Mode'">
      <div slot="after">
        <k-toggle [component]="'div'" [checked]="dark()" (changed)="toggleDark()"></k-toggle>
      </div>
    </k-list-item>
    <k-list-item
      [title]="'Color Theme'"
      (click)="openColorPicker()"
      class="cursor-pointer"
    >
      <div
        after
        class="w-6 h-6 rounded-full home-color-picker"
        [class.bg-brand-primary]="!color()"
        [class.bg-brand-red]="color() === 'k-color-brand-red'"
        [class.bg-brand-green]="color() === 'k-color-brand-green'"
        [class.bg-brand-yellow]="color() === 'k-color-brand-yellow'"
        [class.bg-brand-purple]="color() === 'k-color-brand-purple'"
      ></div>
    </k-list-item>
    @if (theme() === 'material') {
      <k-list-item [label]="true" [title]="'Vibrant Colors'">
        <div slot="after">
          <k-toggle
            [component]="'div'"
            [checked]="vibrant()"
            (changed)="toggleVibrant()"
          ></k-toggle>
        </div>
      </k-list-item>
      <k-list-item [label]="true" [title]="'Monochrome'">
        <div slot="after">
          <k-toggle
            [component]="'div'"
            [checked]="monochrome()"
            (changed)="toggleMonochrome()"
          ></k-toggle>
        </div>
      </k-list-item>
    }
  </k-list>

  <k-popover
    [opened]="colorPickerOpened()"
    target=".home-color-picker"
    (backdropClick)="closeColorPicker()"
  >
    <div class="grid grid-cols-3 gap-2 py-2">
      <k-link component="button" class="color-swatch" (clicked)="clearColor()">
        <span class="sr-only">Default</span>
      </k-link>
      <k-link component="button" class="color-swatch bg-brand-red" (clicked)="setColor('k-color-brand-red')">
        <span class="sr-only">Red</span>
      </k-link>
      <k-link component="button" class="color-swatch bg-brand-green" (clicked)="setColor('k-color-brand-green')">
        <span class="sr-only">Green</span>
      </k-link>
      <k-link component="button" class="color-swatch bg-brand-yellow" (clicked)="setColor('k-color-brand-yellow')">
        <span class="sr-only">Yellow</span>
      </k-link>
      <k-link component="button" class="color-swatch bg-brand-purple" (clicked)="setColor('k-color-brand-purple')">
        <span class="sr-only">Purple</span>
      </k-link>
    </div>
  </k-popover>

  <k-block-title>Component Demos</k-block-title>
  <k-list [strong]="true" [inset]="true">
    @if (routes.length === 0) {
      <k-list-item>
        <div title>Angular component demos are in progress.</div>
      </k-list-item>
    } @else {
      @for (route of routes; track route.path) {
        <k-list-item
          [title]="route.title"
          [link]="true"
          [routerLink]="route.path"
          [media]="demoIconTemplate"
        >
          <span after class="inline-flex items-center gap-1 text-primary">
            View <span aria-hidden="true">â†’</span>
          </span>
        </k-list-item>
      }
    }
  </k-list>
</k-page>

<ng-template #demoIconTemplate>
  <img [src]="demoIconSrc" alt="Demo icon" class="ios:w-7 material:w-6" />
</ng-template>
